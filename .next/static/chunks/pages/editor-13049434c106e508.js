(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{96281:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return r(22145)}])},22145:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(47568),s=r(29815),i=r(34051),a=r.n(i),c=r(85893),o=r(6154),u=r(34038),l=r(97551),p=r(11163),d=r(67294),f=r(27484),_=r.n(f),j=r(17337),h=r(44820),m=r(13907),v=r(13464),x=r(83137),y=r(83779),w=r(26713),b=r.n(w),Z=r(84297);const k=(0,Z.Z)("Plus",[["line",{x1:"12",y1:"5",x2:"12",y2:"19",key:"myz83a"}],["line",{x1:"5",y1:"12",x2:"19",y2:"12",key:"1smlys"}]]),N=(0,Z.Z)("Copy",[["rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2",key:"1ma1o8"}],["path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1",key:"pklvoz"}]]);function g(){var e=(0,v.T)(),t=(0,v.C)(y.dy),r=(0,v.C)(y.ss),i=(0,p.useRouter)(),f=(0,d.useState)(void 0),w=f[0],Z=f[1],g=(0,d.useState)([]),A=g[0],C=g[1],E=(0,d.useState)(!0),S=E[0],P=E[1],z=(0,d.useState)(!1),I=z[0],O=z[1];function D(){return(D=(0,n.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/api/projects");case 3:t=e.sent,C(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C([]);case 10:return e.prev=10,P(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}function F(){return(F=(0,n.Z)(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.id){r.next=3;break}return e((0,x.FA)("register")),r.abrupt("return");case 3:if("active"===t.status){r.next=6;break}return(0,x.yw)(e,{text:"Please verify your account!",type:"info"}),r.abrupt("return");case 6:return r.next=8,o.Z.post("/api/projects");case 8:n=r.sent,i.push("/editor/"+n.data.id);case 10:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function M(){return(M=(0,n.Z)(a().mark((function r(n){var i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.id){r.next=3;break}return e((0,x.FA)("register")),r.abrupt("return");case 3:return r.next=5,o.Z.post("/api/projects?id="+n.id);case 5:i=r.sent,C([i.data].concat((0,s.Z)(A)));case 7:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function T(){return(T=(0,n.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,o.Z.delete("/api/projects/".concat(t.id));case 6:C(A.filter((function(e){return e.id!==t.id}))),Z(void 0),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:return e.prev=12,O(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,10,12,15]])})))).apply(this,arguments)}return(0,d.useEffect)((function(){!function(){D.apply(this,arguments)}()}),[t.id]),(0,d.useEffect)((function(){"failed"!==r&&"completed"!==r||t.id||e((0,x.FA)("register"))}),[r,t.id]),(0,c.jsxs)(u.Z,{title:"Projects - AI Editor",image:"/social-image-ai-editor.png",children:[(0,c.jsxs)("div",{className:b()._,children:[(0,c.jsx)("div",{className:b().head,children:"My Projects:"}),(0,c.jsxs)("div",{className:b().projects,children:[(0,c.jsxs)("button",{className:[b().project,b().new_project].join(" "),onClick:function(){return F.apply(this,arguments)},children:[(0,c.jsx)("span",{className:b().icon,children:(0,c.jsx)(k,{size:16})}),(0,c.jsxs)("span",{className:b().text,children:[(0,c.jsx)("span",{className:b().name,children:"New AI Editor project"}),(0,c.jsx)("span",{className:b().date,children:"Outpaint and edit images"})]})]}),S?(0,c.jsx)("div",{className:b().loader,children:(0,c.jsx)(l.Z,{})}):A.map((function(e){return(0,c.jsxs)("a",{className:b().project,href:"/editor/".concat(e.id),children:[(0,c.jsx)("div",{className:b()._preview,children:(0,c.jsx)("div",{className:b().preview,style:{backgroundImage:"url(".concat(e.previewUrl,")")}})}),(0,c.jsxs)("div",{className:b()._meta,children:[(0,c.jsxs)("div",{className:b().meta,children:[(0,c.jsx)("div",{className:b().name,children:e.name}),(0,c.jsxs)("div",{className:b().date,children:["Edited ",_()(e.updatedAt).fromNow()]})]}),(0,c.jsxs)("div",{className:b().actions,children:[(0,c.jsx)(h.Z,{size:"sm",type:"icon",onClick:function(t){t.preventDefault(),function(e){M.apply(this,arguments)}(e)},children:(0,c.jsx)(N,{})}),(0,c.jsx)(h.Z,{size:"sm",type:"icon",onClick:function(t){t.preventDefault(),Z(e)},children:(0,c.jsx)(j.Apg,{})})]})]})]},e.id)}))]})]}),(0,c.jsxs)(m.Z,{title:"Delete ".concat(w&&w.name),show:void 0!==w,onClose:function(){return Z(void 0)},actions:[(0,c.jsx)(h.Z,{size:"sm",type:"default",onClick:function(){return Z(void 0)},children:"Cancel"},1),(0,c.jsx)(h.Z,{size:"sm",type:"danger",onClick:function(){return function(e){return T.apply(this,arguments)}(w)},loading:I,children:"Delete"},2)],children:[(0,c.jsxs)("p",{children:["Are you sure that you'd like to delete ",(0,c.jsx)("b",{children:w&&w.name})," project?"]}),(0,c.jsx)("p",{children:"Keep in mind that this operation is irreversible. Partially generated frames will still be available in your Gallery."})]})]})}},26713:function(e){e.exports={_:"projects____Jl4cY",head:"projects_head__b2KZn",projects:"projects_projects__S0lMn",loader:"projects_loader__OmN8e",new_project:"projects_new_project__PF5qg",icon:"projects_icon___289Z",name:"projects_name__x7Eun",date:"projects_date__j9DGj",text:"projects_text___g1Cp",project:"projects_project__onaI1",_meta:"projects__meta__b8R5W",meta:"projects_meta__Xalee",actions:"projects_actions__Q3P6E",_preview:"projects__preview__4HV80",preview:"projects_preview__Hj7co"}},20943:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},13375:function(e,t,r){"use strict";function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,{Z:function(){return n}})},29815:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(20943);var s=r(13375);var i=r(91566);function a(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||(0,s.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},91566:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(20943);function s(e,t){if(e){if("string"===typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}}},function(e){e.O(0,[84,53,884,774,888,179],(function(){return t=96281,e(e.s=t);var t}));var t=e.O();_N_E=t}]);